"use strict";(self["webpackChunk_3_make_your_hamburger"]=self["webpackChunk_3_make_your_hamburger"]||[]).push([[550],{1563:(e,n,t)=>{t.r(n),t.d(n,{default:()=>E});var r=t(3396),s={class:"main-container"},a=(0,r._)("h1",null,"Gerenciar pedidos:",-1);function u(e,n,t,u,i,c){var o=(0,r.up)("Dashboard");return(0,r.wg)(),(0,r.iD)("section",null,[(0,r._)("div",s,[a,(0,r.Wm)(o)])])}var i=t(5010),c=t(7139),o=function(e){return(0,r.dD)("data-v-9c6f8160"),e=e(),(0,r.Cn)(),e},l={id:"burger-table"},d=o((function(){return(0,r._)("div",null,[(0,r._)("div",{id:"burger-table-heading"},[(0,r._)("div",{class:"order-id"},"#:"),(0,r._)("div",null,"Cliente:"),(0,r._)("div",null,"Pão:"),(0,r._)("div",null,"Carne:"),(0,r._)("div",null,"Opcionais:"),(0,r._)("div",null,"Ações:")])],-1)})),g={id:"burger-table-rows"},p={class:"order-number"},m=["onChange"],v=["value","selected"],h=["onClick"];function f(e,n,t,s,a,u){var o=(0,r.up)("MessageCancel"),f=(0,r.up)("MessageUpdate");return(0,r.wg)(),(0,r.iD)("div",l,[d,(0,r.wy)((0,r.Wm)(o,{msg:a.msgCancel},null,8,["msg"]),[[i.F8,a.msgCancel]]),(0,r.wy)((0,r.Wm)(f,{msg:a.msgUpdate},null,8,["msg"]),[[i.F8,a.msgUpdate]]),(0,r._)("div",g,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.burgers,(function(e){return(0,r.wg)(),(0,r.iD)("div",{class:"burger-table-row",key:e.id},[(0,r._)("div",p,(0,c.zw)(e.id),1),(0,r._)("div",null,(0,c.zw)(e.nome),1),(0,r._)("div",null,(0,c.zw)(e.pao),1),(0,r._)("div",null,(0,c.zw)(e.carne),1),(0,r._)("div",null,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.opcionais,(function(e,n){return(0,r.wg)(),(0,r.iD)("li",{key:n},(0,c.zw)(e),1)})),128))])]),(0,r._)("div",null,[(0,r._)("select",{name:"stauts",class:"status",onChange:function(n){return u.updateBurger(n,e.id)}},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.status,(function(n){return(0,r.wg)(),(0,r.iD)("option",{key:n.id,value:n.tipo,selected:e.status==n.tipo},(0,c.zw)(n.tipo),9,v)})),128))],40,m),(0,r._)("button",{class:"delete-btn",onClick:function(n){return u.deleteBurger(e.id)}},"Cancelar",8,h)])])})),128))])])}var _=t(124),w=t(8534),b=(t(1539),t(2564),t(8862),t(2222),{class:"message-container"});function C(e,n,t,s,a,u){return(0,r.wg)(),(0,r.iD)("div",b,[(0,r._)("p",null,(0,c.zw)(t.msg),1)])}const Z={name:"MessageUpdate",props:{msg:String}};var k=t(89);const D=(0,k.Z)(Z,[["render",C],["__scopeId","data-v-15b3ce7b"]]),x=D;var y={class:"message-container"};function z(e,n,t,s,a,u){return(0,r.wg)(),(0,r.iD)("div",y,[(0,r._)("p",null,(0,c.zw)(t.msg),1)])}const U={name:"MessageCancel",props:{msg:String}},P=(0,k.Z)(U,[["render",z],["__scopeId","data-v-7b3c93ee"]]),M=P,j={components:{MessageCancel:M,MessageUpdate:x},name:"Dashboard",data:function(){return{burgers:null,burger_id:null,status:[],msg:null,msgCancel:null,msgUpdate:null}},methods:{getPedidos:function(){var e=this;return(0,w.Z)((0,_.Z)().mark((function n(){var t,r;return(0,_.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://localhost:3000/burgers");case 2:return t=n.sent,n.next=5,t.json();case 5:r=n.sent,e.burgers=r,e.getStatus();case 8:case"end":return n.stop()}}),n)})))()},getStatus:function(){var e=this;return(0,w.Z)((0,_.Z)().mark((function n(){var t,r;return(0,_.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://localhost:3000/status");case 2:return t=n.sent,n.next=5,t.json();case 5:r=n.sent,e.status=r;case 7:case"end":return n.stop()}}),n)})))()},deleteBurger:function(e){var n=this;return(0,w.Z)((0,_.Z)().mark((function t(){var r;return(0,_.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:3000/burgers/".concat(e),{method:"DELETE"});case 2:return r=t.sent,t.next=5,r.json();case 5:t.sent,n.msgCancel="Pedido cancelado com sucesso!",setTimeout((function(){return n.msgCancel=""}),3e3),n.getPedidos();case 9:case"end":return t.stop()}}),t)})))()},updateBurger:function(e,n){var t=this;return(0,w.Z)((0,_.Z)().mark((function r(){var s,a,u,i;return(0,_.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.target.value,a=JSON.stringify({status:s}),r.next=4,fetch("http://localhost:3000/burgers/".concat(n),{method:"PATCH",headers:{"Content-Type":"application/json"},body:a});case 4:return u=r.sent,r.next=7,u.json();case 7:i=r.sent,t.msgUpdate="O pedido Nº ".concat(i.id," foi atualizado para ").concat(i.status,"!"),setTimeout((function(){return t.msgUpdate=""}),3e3);case 10:case"end":return r.stop()}}),r)})))()}},mounted:function(){this.getPedidos()}},S=(0,k.Z)(j,[["render",f],["__scopeId","data-v-9c6f8160"]]),T=S,B={name:"Pedidos",components:{Dashboard:T}},H=(0,k.Z)(B,[["render",u]]),E=H}}]);
//# sourceMappingURL=pedidos.86c6e055.js.map